<style>
	.CLASS { background-color: #F5F5F5; }
	.CLASS pre { margin: 0; padding: 0; }
	.CLASS code { tab-size: 2; font-family: Menlo, Consolas, monospace; font-size: 12px; }
</style>

<script>

	exports.id = 'json';
	exports.name = 'To JSON';
	exports.group = 'Debugging';
	exports.author = 'Total.js';
	exports.icon = 'ti ti-qrcode';
	exports.version = '1';

	exports.make = function(instance, config, element) {

		element.aclass('UI_border hidden');
		element.html('<pre><code></code></pre>');
		var code = element.find('code');

		instance.on('value', function(value) {

			element.tclass('hidden', !value);

			if (value != null) {
				if (typeof(value) === 'string')
					code.text(value.trim());
				else
					code.html(JSON.stringify(value, null, '\t'));
			}

		});

	};

</script>